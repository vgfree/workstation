<html>

 <head>
<!-- Original URL: http://book.luaer.cn/_37.htm
Date Downloaded: 2016/4/5 19:56:07 !-->
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
   <title>5.1 多返回值 - Lua程序设计 </title>
   
   <meta name="GENERATOR" content="Macrobject Word-2-CHM" />
   <link rel="stylesheet" href="Word2Chm.css" type="text/css" />
   <link rel="stylesheet" href="default.css" type="text/css" />
 </head>

 <body lang="ZH-CN" link="blue" vlink="purple" style='text-justify-trim:punctuation'><div style="z-index: 9999; position: fixed; width: 100%; border: 0px; padding: 5px; margin: 0px; background-color: transparent;  font-size: 12pt; font-family: sans-serif;" id="web2disk_nag" onclick="javascript: document.getElementById('web2disk_nag').style.display = 'none';">
		<div style="color: #000000; background-color:#F1F1F1; margin-left: auto; margin-right: auto; border-width: 2px; border-style: solid; width: 550px; ">
			<div style="width: 100%; text-align: center; font-weight: bold; border: 0px; margin: 0px; padding: 0px">Hey, where did my words go? (Click to hide)</div>
			<p>In the trial version of Web2Disk every fifth word is blanked out. 
			To copy this site with all the words, please upgrade to the full version and copy this website again.</p>
			<div style="width: 100%; text-align: center; font-weight: bold; border: 0px; margin: 0px; padding: 0px">
				<a href="http://www.inspyder.com/products/Web2Disk/">Inspyder Web2Disk: The Website Downloader</a>
			</div>
		</div>
	</div>
   <table width="100%" cellpadding="0" cellspacing="0" border="0">
     <tr>
       <td class="moHeader">&nbsp;5.1 多返回值 </td>
     </tr>
   </table>
  
   <p />

 <div class="Section1" style='layout-grid:15.6pt'>



 <p class="MsoNormal" style='text-indent:21.0pt'><span lang="EN-US">Lua </span><span style='font-family:宋体'>函数可以返回多个结果值，比如 </span><span lang="EN-US">string.find </span><span style='font-family:宋体'>，其返回匹配串“开始和结束的下标”（如果不存在匹配串返回 </span><span lang="EN-US">nil </span><span style='font-family:宋体'>）。 </span></p>

 <div style='border:RGB(64,193,125) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#fff;margin-left:21.0pt;margin-right:21.0pt'>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(230,234,222)'><span lang="EN-US">s, e = string.find( <span style='color:red'>&quot;hello Lua
users&quot; </span>,  <span style='color:red'>&quot;Lua&quot; </span>) </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">print(s, e)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>--&gt; 7&nbsp; 9 </span></span></p>

 </div>

 <p class="MsoNormal" style='text-indent:21.0pt'><span lang="EN-US">Lua </span><span style='font-family:宋体'>函数中，在 </span><span lang="EN-US">return </span><span style='font-family:宋体'>后列出要返回的值得列表即可返回多值，如： </span></p>

 <div style='border:RGB(64,193,125) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:RGB(232,238,230);margin-left:21.0pt;margin-right:21.0pt'>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US" style='color:blue'>function </span><span lang="EN-US"> maximum (a) </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(248,240,238)'><span lang="EN-US">&nbsp;&nbsp;&nbsp;  <span style='color:blue'>local </span> mi = 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>-- maximum index </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">&nbsp;&nbsp;&nbsp;  <span style='color:blue'>local </span> m = a[mi]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>-- maximum value </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(239,241,237)'><span lang="EN-US">&nbsp;&nbsp;&nbsp;  <span style='color:blue'>for </span> i,val  <span style='color:blue'>in </span> ipairs(a)  <span style='color:blue'>do </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:blue'>if </span>
val &gt; m  <span style='color:blue'>then </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(249,228,246)'><span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; mi = i </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; m = val </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(255,233,255)'><span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:blue'>end </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">&nbsp;&nbsp;&nbsp;  <span style='color:blue'>end </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(253,233,242)'><span lang="EN-US">&nbsp;&nbsp;&nbsp;  <span style='color:blue'>return </span> m, mi </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US" style='color:blue'>end </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(250,233,237)'><span lang="EN-US">&nbsp; </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">print(maximum({8,10,23,12,5}))&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>--&gt; 23&nbsp;&nbsp; 3 </span></span></p>

 </div>

 <p class="MsoNormal" style='text-indent:21.0pt'><span lang="EN-US">Lua </span><span style='font-family:宋体'>总是调整函数返回值的个数以适用调用环境，当作为独立的语句调用函数时，所有返回值将被忽略。假设有如下三个函数： </span></p>

 <div style='border:RGB(64,193,125) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:RGB(240,235,249);margin-left:21.0pt;margin-right:21.0pt'>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US" style='color:blue'>function </span><span lang="EN-US"> foo0 ()  <span style='color:blue'>end </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>-- returns no results </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(244,243,250)'><span lang="EN-US" style='color:blue'>function </span><span lang="EN-US"> foo1 ()  <span style='color:blue'>return </span> 'a'  <span style='color:blue'>end </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>-- returns 1 result </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US" style='color:blue'>function </span><span lang="EN-US"> foo2 ()  <span style='color:blue'>return </span> 'a','b'  <span style='color:blue'>end </span>&nbsp;&nbsp;&nbsp;  <span style='color:green'>-- returns 2 results </span></span></p>

 </div>

 <p class="MsoNormal" style='text-indent:21.0pt'><span style='font-family:宋体'>第一，当作为表达式调用函数时，有以下几种情况： </span></p>

 <p class="MsoNormal" style='text-indent:21.0pt'><span lang="EN-US">1.  </span><span style='font-family:宋体'>当调用作为表达式最后一个参数或者仅有一个参数时，根据变量个数函数尽可能多地返回多个值，不足补 </span><span lang="EN-US">nil </span><span style='font-family:宋体'>，超出舍去。 </span></p>

 <p class="MsoNormal" style='text-indent:21.0pt'><span lang="EN-US">2.  </span><span style='font-family:宋体'>其他情况下，函数调用仅返回第一个值（如果没有返回值为 </span><span lang="EN-US">nil </span><span style='font-family:宋体'>） </span></p>

 <div style='border:RGB(64,193,125) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:RGB(235,249,252);margin-left:21.0pt;margin-right:21.0pt'>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">x,y = foo2()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>-- x='a', y='b' </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(243,255,228)'><span lang="EN-US">x = foo2()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>-- x='a', 'b' is _________ </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">x,y,z = 10,foo2()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>-- x=10, y='a', z='b' </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(245,255,244)'><span lang="EN-US">&nbsp; </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">x,y = foo0()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>-- x=nil, y=nil </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(246,222,234)'><span lang="EN-US">x,y = foo1()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>-- x='a', y=nil </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">x,y,z = foo2()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>-- x='a', y='b', z=nil </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(228,245,237)'><span lang="EN-US">&nbsp; </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">x,y = foo2(), 20&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>-- x='a', y=20 </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(220,251,220)'><span lang="EN-US">x,y = foo0(), 20, 30&____;&____;&____;&____;  <span style='color:
green'>-- x='nil', y=20, 30 __ discarded </span></span></p>

 </div>

 <p class="MsoNormal" style='text-indent:21.0pt'><span style='font-family:宋体'>第二，函数调用作为函数参数被调用时，和多值赋值是相同。 </span></p>

 <div style='border:RGB(64,193,125) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#fff;margin-left:21.0pt;margin-right:21.0pt'>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(251,235,230)'><span lang="EN-US">print(foo0())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>--&gt; </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">print(foo1())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>--&gt; a </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(253,247,245)'><span lang="EN-US">print(foo2())&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>--&gt; a&nbsp;&nbsp; b </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">print(foo2(), 1)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>--&gt; a&nbsp;&nbsp; 1 </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(245,232,222)'><span lang="EN-US">print(foo2() ..  <span style='color:red'>&quot;x&quot; </span>)&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>--&gt; ax </span></span></p>

 </div>

 <p class="MsoNormal" style='text-indent:21.0pt'><span style='font-family:宋体'>第三，函数调用在表构造函数中初始化时，和多值赋值时相同。 </span></p>

 <div style='border:RGB(64,193,125) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#fff;margin-left:21.0pt;margin-right:21.0pt'>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(237,251,241)'><span lang="EN-US">a = {foo0()}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>-- a = {} &____;&____;&____;(__ empty table) </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">a = {foo1()}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>-- a = {'a'} </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(229,248,220)'><span lang="EN-US">a = {foo2()}&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>-- a = {'a', '_'} </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">&nbsp; </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(238,232,230)'><span lang="EN-US">a = {foo0(), foo2(), 4}&____;  <span style='color:green'>-- a[1] =
nil, a[2] = 'a', a[3] = 4 </span></span></p>

 </div>

 <p class="MsoNormal" style='text-indent:21.0pt'><span style='font-family:宋体'>另外， </span><span lang="EN-US">return f() </span><span style='font-family:宋体'>这种形式，则返回“ </span><span lang="EN-US">f() </span><span style='font-family:宋体'>的返回值”： </span></p>

 <div style='border:RGB(64,193,125) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#fff;margin-left:21.0pt;margin-right:21.0pt'>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(248,237,247)'><span lang="EN-US" style='color:blue'>function </span><span lang="EN-US"> foo (i) </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">&nbsp;&nbsp;&nbsp;  <span style='color:blue'>if </span> i == 0  <span style='color:blue'>then </span>  <span style='color:blue'>return </span> foo0() </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(221,236,230)'><span lang="EN-US">&nbsp;&nbsp;&nbsp;  <span style='color:blue'>elseif </span> i == 1  <span style='color:blue'>then </span>  <span style='color:blue'>return </span> foo1() </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">&nbsp;&nbsp;&nbsp;  <span style='color:blue'>elseif </span> i == 2  <span style='color:blue'>then </span>  <span style='color:blue'>return </span> foo2() </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(238,242,247)'><span lang="EN-US">&nbsp;&nbsp;&nbsp;  <span style='color:blue'>end </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US" style='color:blue'>end </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(231,220,226)'><span lang="EN-US">&nbsp; </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">print(foo(1))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>--&gt; a </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(250,234,230)'><span lang="EN-US">print(foo(2))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>--&gt; a&nbsp; b </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">print(foo(0))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>-- (no results) </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(229,238,251)'><span lang="EN-US">print(foo(3))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>-- (no results) </span></span></p>

 </div>

 <p class="MsoNormal" style='text-indent:21.0pt'><span style='font-family:宋体'>可以使用圆括号强制使调用返回一个值。 </span></p>

 <div style='border:RGB(64,193,125) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#fff;margin-left:21.0pt;margin-right:21.0pt'>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(247,254,253)'><span lang="EN-US">print((foo0()))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>--&gt; nil </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">print((foo1()))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>--&gt; a </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(240,235,252)'><span lang="EN-US">print((foo2()))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>--&gt; a </span></span></p>

 </div>

 <p class="MsoNormal" style='text-indent:21.0pt'><span style='font-family:宋体'>一个 </span><span lang="EN-US">return </span><span style='font-family:宋体'>语句如果使用圆括号将返回值括起来也将导致返回一个值。 </span></p>

 <p class="MsoNormal" style='text-indent:21.0pt'><span style='font-family:宋体'>函数多值返回的特殊函数 </span><span lang="EN-US">unpack </span><span style='font-family:宋体'>，接受一个数组作为输入参数，返回数组的所有元素。 </span><span lang="EN-US">unpack </span><span style='font-family:宋体'>被用来实现范型调用机制，在 </span><span lang="EN-US">C </span><span style='font-family:宋体'>语言中可以使用函数指针调用可变的函数，可以声明参数可变的函数，但不能两者同时可变。在 </span><span lang="EN-US">Lua </span><span style='font-family:宋体'>中如果你想调用可变参数的可变函数只需要这样： </span></p>

 <div style='border:RGB(64,193,125) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#fff;margin-left:21.0pt;margin-right:21.0pt'>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(250,251,246)'><span lang="EN-US">f(unpack(a)) </span></p>

 </div>

 <p class="MsoNormal" style='text-indent:21.0pt'><span lang="EN-US">unpack </span><span style='font-family:宋体'>返回 </span><span lang="EN-US">a </span><span style='font-family:宋体'>所有的元素作为 </span><span lang="EN-US">f() </span><span style='font-family:宋体'>的参数 </span></p>

 <div style='border:RGB(64,193,125) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#fff;margin-left:21.0pt;margin-right:21.0pt'>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(225,235,241)'><span lang="EN-US">f = string.find </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">a = { <span style='color:red'>&quot;hello&quot; </span>,  <span style='color:red'>&quot;ll&quot; </span>} </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(244,230,236)'><span lang="EN-US">print(f(unpack(a)))&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:green'>--&gt; 3 &nbsp;4 </span></span></p>

 </div>

 <p class="MsoNormal" style='text-indent:21.0pt'><span style='font-family:宋体'>预定义的 </span><span lang="EN-US">unpack </span><span style='font-family:宋体'>函数是用 </span><span lang="EN-US">C </span><span style='font-family:宋体'>语言实现的，我们也可以用 </span><span lang="EN-US">Lua </span><span style='font-family:宋体'>来完成： </span></p>

 <div style='border:RGB(64,193,125) dashed 1px;padding:1.0pt 4.0pt 1.0pt 4.0pt;
background:#fff;margin-left:21.0pt;margin-right:21.0pt'>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(223,245,237)'><span lang="EN-US" style='color:blue'>function </span><span lang="EN-US"> unpack(t, i) </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">&nbsp;&nbsp;&nbsp; i = i  <span style='color:blue'>or </span> 1 </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(224,227,249)'><span lang="EN-US">&nbsp;&nbsp;&nbsp;  <span style='color:blue'>if </span> t[i]  <span style='color:blue'>then </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span style='color:blue'>return </span>
t[i], unpack(t, i + 1) </span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:RGB(228,225,230)'><span lang="EN-US">&nbsp;&nbsp;&nbsp;  <span style='color:blue'>end </span></span></p>

 <p class="AltD" style='margin:0cm;margin-bottom:.0001pt;background:#fff'><span lang="EN-US" style='color:blue'>end </span></p>

 </div>


 </div>
   <p />
   <hr class="moHR" />
   <span class="moCopyright">
    ____：
 <br /><a href="_3.htm">lua程序设计目录 </a> -  <a href="http://www.luaer.cn">中国lua开发者 </a> -  <a href="http://bbs.luaer.cn">lua论坛 </a> 
   </span><div id="bookfoot"></div>
 <script language="JavaScript" src="js/ad.js"></script>
 </body>

 </html>

 